define("./ocx_draw",["./ocx_preview"],function(f){return f("./ocx_preview").extend({drawType:null,SetBarVisible:function(a){this.ocxEl[0].SetBarVisible(a)},StartDrawHideAlr:function(){this.drawType=2;this.ocxEl[0].StartDrawHideAlr()},StartDrawMotion:function(){this.drawType=1;this.ocxEl[0].StartDrawMotion()},SetEncrypt:function(a){this.ocxEl[0].SetEncrypt(a)},ClearGrid:function(){this.ocxEl[0].ClearGrid()},SetXML:function(a){this.drawType==1?this.SetMotionXML(a):this.drawType==2&&this.SetHideAlrXML(a)},
GetXML:function(){if(this.drawType==1)return this.GetMotionXML();else if(this.drawType==2)return this.GetHideAlrXML()},GetToGetAreaValue:function(a){if(this.drawType==1)return a.find("ConfigXML>MOTIONAREACFG>AREAS").xml();else if(this.drawType==2)return a.find("ConfigXML>HIDEALARMAREACFG").xml()},GetToSetAreaValue:function(a,e){if(this.drawType==1){var c=a.find("ConfigXML>MOTIONAREACFG>AREAS"),b=c.parent();c.remove();$value=$($.parseXML(e)).find("AREAS");b.append($value);return b.xml()}else if(this.drawType==
2)return $value=$($.parseXML(e)).find("HIDEALARMAREACFG"),$value.xml()},SetMotionXML:function(a){this.ocxEl[0].SetMotionXML(a)},GetMotionXML:function(){return this.ocxEl[0].GetMotionXML()},GetHideAlrXML:function(){var a=this.ocxEl[0].GetHideAlrXML(),a=$($.parseXML(a));a.find("HIDEALARMAREACFG>AREARECT>*").each(function(a,c){var b=$(c),d=b.text();$.isNumeric(d)&&b.text(parseInt(parseInt(d)/2))});return a.xml()},SetHideAlrXML:function(a){a=$($.parseXML(a));a.find("HIDEALARMAREACFG>AREARECT>*").each(function(a,
c){var b=$(c),d=b.text();$.isNumeric(d)&&b.text(parseInt(d)*2)});this.ocxEl[0].SetHideAlrXML(a.xml())}})});
